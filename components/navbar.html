<link rel="stylesheet" href="../assets/css/style.css">

<!-- Main Navbar Bar with Hamburger -->
<div class="main-navbar-bar" style="background: rgba(0,0,0,0.68); backdrop-filter: blur(2px);">
  <div class="main-navbar-logo">
    <a href="../index.html">
      <img src="/assets/logo/makuta logo_white copy.png" alt="Makuta Logo">
    </a>
  </div>
  <button class="main-navbar-hamburger" id="open-overlay-navbar" aria-label="Open Menu">
    <span class="hamburger-icon-svg">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" width="32" height="32">
        <path class="line line-top" d="M0 9.5h25" style="fill: none; stroke: #fff; stroke-width: 2.5px;" />
        <path class="line line-bottom" d="M0 15.5h25" style="fill: none; stroke: #fff; stroke-width: 2.5px;" />
      </svg>
    </span>
  </button>
</div>

<!-- Overlay Navigation -->
<div id="overlay-navbar" class="overlay-navbar">
  <div class="overlay-navbar-header" style="display: flex; align-items: center; justify-content: space-between; width: 100%; padding: 2vw 2vw 0 2vw;">
    <button class="overlay-navbar-close" id="overlay-navbar-close" aria-label="Close">
      <span class="close-x"></span>
    </button>
    <div class="overlay-navbar-logo">
      <img src="/assets/logo/makuta-logo-white.svg" alt="Makuta Logo">
    </div>
  </div>
  <div class="overlay-navbar-main">
    <nav class="overlay-navbar-links-large">
      <a href="about.html">Legacy</a>
      <a href="blog.html">News Corner</a>
      <a href="projects.html">Projects</a>
      <a href="contact.html">Contact</a>
    </nav>
    <div class="overlay-navbar-links-small">
      <div>
        <a href="careers.html">Careers</a><br>
        <a href="#">Privacy Policy</a><br>
        <a href="contact.html">Contact</a>
      </div>
      <div>
        <a href="careers.html">Careers</a><br>
        <a href="#">Press</a><br>
        <a href="#">Factory tours</a>
      </div>
    </div>
  </div>
</div>

<script>
// Hamburger opens overlay navbar and scroll hide/show logic
document.addEventListener('DOMContentLoaded', function() {
  var openBtn = document.getElementById('open-overlay-navbar');
  var closeBtn = document.getElementById('overlay-navbar-close');
  var overlay = document.getElementById('overlay-navbar');
  var navbar = document.querySelector('.main-navbar-bar');
  var lastScrollY = window.scrollY;
  var ticking = false;

  if (openBtn && overlay) {
    openBtn.onclick = function() {
      overlay.classList.add('open');
      document.body.style.overflow = 'hidden';
      navbar.classList.add('hide-navbar');
    };
  }
  if (closeBtn && overlay) {
    closeBtn.onclick = function() {
      overlay.classList.remove('open');
      document.body.style.overflow = '';
      navbar.classList.remove('hide-navbar');
    };
  }
  if (overlay) {
    overlay.addEventListener('click', function(e) {
      if (e.target === overlay) {
        overlay.classList.remove('open');
        document.body.style.overflow = '';
        navbar.classList.remove('hide-navbar');
      }
    });
  }

  // Hide navbar on scroll down, show on scroll up
  function onScroll() {
    if (overlay.classList.contains('open')) return; // Don't hide if overlay is open
    if (window.scrollY > lastScrollY && window.scrollY > 40) {
      navbar.classList.add('hide-navbar');
    } else if (window.scrollY < lastScrollY) {
      navbar.classList.remove('hide-navbar');
    }
    lastScrollY = window.scrollY;

  }
  window.addEventListener('scroll', function() {
    if (!ticking) {
      window.requestAnimationFrame(function() {
        onScroll();
        ticking = false;
      });
      ticking = true;
    }
  });
});
</script>

